{% set menuItems = menu.get_items|json_encode() %}
<!-- menu='{{ menuItems }}'  -->
{% set invertNav = fields.custom.invert %}
<header
  id="header"
  is="MainMenu"
  class="z-30 nav fixed w-screen"
  inline-template
>

{% block header %}
<div class="wrapper h-20 flex justify-between items-center p-4 sm:px-8">
    
    {# blur #}
    <div class="absolute h-full w-full bg-blue top-0 left-0 backdrop-filter backdrop-blur"></div>
    <!-- style="background: rgba(0, 0, 0, 0.2);" -->

      <a v-show="!menuActive" class="hdr-logo-link" href="{{site.url}}" rel="home">
        <svg class="transform scale-75 sm:scale-100 h-full sm:h-3/4" width="105" height="51" viewBox="0 0 105 51" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M104.25 19.8968C104.25 30.8681 95.3212 39.7921 84.3472 39.7921H74.3944C74.0524 39.8634 73.7253 39.9933 73.4275 40.176C73.2248 40.3055 73.0369 40.4569 72.8673 40.6276C72.5828 40.9108 72.3572 41.2475 72.2034 41.6182C72.0496 41.989 71.9707 42.3865 71.9713 42.7878V47.438C71.9735 48.0569 71.7874 48.6619 71.4378 49.1727C71.0881 49.6835 70.5914 50.0761 70.0135 50.2982C69.6654 50.4331 69.2951 50.5015 68.9217 50.5H67.4941C67.0927 50.5002 66.6953 50.4213 66.3245 50.2679C65.9537 50.1144 65.6168 49.8895 65.333 49.6058C65.0492 49.3221 64.8241 48.9853 64.6707 48.6146C64.5172 48.244 64.4383 47.8467 64.4385 47.4455V42.0366C64.4365 39.4801 65.4313 37.0235 67.2117 35.1881C68.9921 33.3527 71.4179 32.2832 73.9742 32.2064C74.0751 32.2064 74.176 32.2064 74.2754 32.2064H75.0239H75.182H84.3442C86.781 32.207 89.1632 31.4852 91.1895 30.1323C93.2158 28.7793 94.7951 26.8561 95.7278 24.6057C96.6605 22.3554 96.9047 19.8791 96.4293 17.4901C95.954 15.1011 94.7805 12.9066 93.0574 11.1843C91.3342 9.46206 89.1388 8.28932 86.7488 7.81444C84.3589 7.33956 81.8817 7.58389 79.6306 8.51652C77.3796 9.44915 75.4558 11.0282 74.1026 13.0539C72.7494 15.0796 72.0276 17.461 72.0285 19.8968C72.0318 25.0831 70.0011 30.064 66.3721 33.7705L66.3992 33.7976C63.7549 36.5102 60.3864 38.4059 56.6948 39.2592C56.6547 39.271 56.614 39.2806 56.5729 39.2878C56.4614 39.3119 56.3485 39.339 56.2355 39.3601C56.1933 39.3721 56.1497 39.3796 56.109 39.3871C56.0322 39.4037 55.9584 39.4203 55.8771 39.4323C55.7642 39.4549 55.6527 39.4745 55.5413 39.494C55.3816 39.5196 55.222 39.5467 55.0624 39.5708C53.7328 39.7687 52.3867 39.8317 51.0445 39.759C48.1546 39.6048 45.3344 38.8142 42.7858 37.4437L42.7572 37.4286C42.5087 37.2947 42.2617 37.1577 42.0193 37.0131C41.7181 36.8385 41.4289 36.6549 41.1398 36.4592C40.9892 36.3628 40.8506 36.265 40.7091 36.1581C40.4214 35.9594 40.1398 35.7486 39.8657 35.5303C39.6579 35.3677 39.4531 35.1991 39.2528 35.0275L39.2438 35.02C38.0364 33.9951 36.9541 32.8314 36.0195 31.5531V31.5531C34.1776 34.1032 31.7564 36.1798 28.9551 37.6121C26.1538 39.0445 23.0523 39.7916 19.9058 39.7921H11.1516C9.64567 39.7921 8.15176 40.6517 7.68792 41.8168L7.53733 42.5575C7.53047 42.6316 7.52745 42.7059 7.52829 42.7803V47.4305C7.53006 48.0493 7.34383 48.6541 6.99425 49.1648C6.64467 49.6756 6.14821 50.0682 5.57054 50.2907C5.22238 50.4255 4.85207 50.4939 4.47872 50.4924H3.05409C2.65289 50.4924 2.25563 50.4134 1.88499 50.2599C1.51435 50.1064 1.17761 49.8814 0.893991 49.5977C0.610374 49.3141 0.385443 48.9773 0.232049 48.6068C0.0786558 48.2362 -0.000195006 47.839 2.82206e-06 47.438V42.0366C-0.00193372 39.4801 0.992856 37.0235 2.77323 35.1881C4.5536 33.3527 6.97939 32.2832 9.53573 32.2064H19.9058C22.3424 32.2067 24.7245 31.4846 26.7506 30.1315C28.7767 28.7784 30.3558 26.855 31.2883 24.6047C32.2208 22.3543 32.4647 19.8781 31.9892 17.4892C31.5136 15.1003 30.3401 12.906 28.6169 11.1838C26.8937 9.46169 24.6983 8.28908 22.3083 7.81433C19.9184 7.33957 17.4413 7.58399 15.1903 8.51667C12.9393 9.44934 11.0156 11.0284 9.66252 13.0541C8.30939 15.0797 7.58764 17.461 7.58853 19.8968V26.3881C7.58853 27.3938 7.18886 28.3583 6.47744 29.0695C5.76601 29.7806 4.80112 30.1802 3.79502 30.1802C2.78892 30.1802 1.82402 29.7806 1.1126 29.0695C0.401181 28.3583 0.00150912 27.3938 0.0015091 26.3881V19.8968C0.0015091 8.92549 8.93486 0.00150457 19.9043 0.00150457C23.0509 0.00157822 26.1526 0.748365 28.9542 2.18044C31.7558 3.61252 34.1773 5.68898 36.0195 8.23902C38.7949 4.40644 42.843 1.68518 47.4407 0.561512C47.5821 0.526964 47.7254 0.500824 47.8699 0.48323C48.1711 0.416993 48.4748 0.357782 48.781 0.305595C53.4508 -0.50109 58.2554 0.379949 62.3346 2.791C62.8278 3.08468 63.248 3.48623 63.5636 3.96551C63.8793 4.44479 64.0822 4.98933 64.1571 5.55824C64.232 6.12714 64.177 6.70562 63.9962 7.25023C63.8154 7.79485 63.5135 8.29143 63.1132 8.70269C62.5203 9.31334 61.7367 9.70363 60.8919 9.80915C60.0448 9.919 59.1853 9.74028 58.4523 9.30183C56.0756 7.89996 53.2977 7.33424 50.5619 7.69496C47.826 8.05568 45.2898 9.32204 43.3581 11.292V11.292C43.1382 11.5148 42.9304 11.7436 42.7271 11.992C41.1099 13.9249 40.125 16.3073 39.9054 18.8175C39.6857 21.3277 40.2419 23.8448 41.4989 26.029C42.7558 28.2132 44.653 29.9592 46.9341 31.0313C49.2153 32.1034 51.7707 32.45 54.2552 32.0243C54.3124 32.0122 54.3711 32.0047 54.4284 31.9911C54.4856 31.9776 54.5428 31.9716 54.5985 31.958C54.6994 31.9385 54.7988 31.9189 54.8997 31.8948L55.2009 31.8225C57.8447 31.1366 60.1865 29.5938 61.8596 27.4357C63.5327 25.2775 64.4428 22.6257 64.4475 19.8953C64.4475 8.92398 73.3839 0 84.3518 0C95.3197 0 104.25 8.92549 104.25 19.8968Z" fill="#FF0088"/>
          </svg>
      </a>

      <nav
        id="nav-main"
        class="nav-container relative h-full flex-grow flex flex-col px-10"
        role="navigation"
      >
        <div
          class="sm:hidden group flex absolute sm:relative top-0 right-0 items-center z-50 cursor-pointer"
          @click="toggleMenu('main')"
        >
          <transition name="menu-button" mode="out-in">
            <p
              v-if="!menuActive"
              class="font-bold text-pop-pink pr-4"
              key="menu"
            >
              Menu
            </p>
            <p
              v-else
              class="block sm:hidden font-bold text-pop-white pr-4"
              key="close"
            >
              Close
            </p>
          </transition>
          <svg width="44" height="35" viewBox="0 0 44 35" fill="none" xmlns="http://www.w3.org/2000/svg">
            <line class="text-pop-gray stroke-current" x1="10" y1="9.5" x2="34" y2="9.5" stroke-width="2"/>
            <line class="text-pop-gray stroke-current transform group-hover:translate-x-0.5 transition-transform" :class="{'translate-x-0.5': menuActive}" x1="10" y1="16.5" x2="34" y2="16.5" stroke-width="2"/>
            <line class="text-pop-gray stroke-current transform group-hover:translate-x-1 transition-transform delay-100" :class="{'translate-x-1': menuActive}" x1="10" y1="23.5" x2="34" y2="23.5" stroke-width="2"/>
          </svg>
        </div>
        {% include "menu.twig" with {'items': menu.get_items, 'invert': invertNav} %}
      </nav>

    <div
      v-show="!menuActive"
      @click="showContactForm()"
      class="fixed bottom-0 right-0 w-1/2 min-w-min whitespace-nowrap sm:w-auto z-50 sm:z-0 sm:relative flex items-center transition-opacity cursor-pointer bg-pop-pink sm:bg-transparent"
      :class="menuActive ? 'opacity-0' : 'opacity-100'"
    >
      <div class="flex-grow text-center h-full px-3 py-2 sm:p-0 text-pop-white sm:text-pop-pink sm:font-bold sm:mr-2">
        Get in Touch
      </div>
      <svg class="hidden sm:block" width="54" height="16" viewBox="0 0 54 16" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M53.7071 8.70711C54.0976 8.31658 54.0976 7.68342 53.7071 7.29289L47.3431 0.928932C46.9526 0.538408 46.3195 0.538408 45.9289 0.928932C45.5384 1.31946 45.5384 1.95262 45.9289 2.34315L51.5858 8L45.9289 13.6569C45.5384 14.0474 45.5384 14.6805 45.9289 15.0711C46.3195 15.4616 46.9526 15.4616 47.3431 15.0711L53.7071 8.70711ZM0 9H53V7H0V9Z" fill="#FF0088"/>
      </svg>
      <div class="block sm:hidden w-12 h-12 p-3 bg-pop-yellow">
        <svg class="transform rotate-45" width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path class="fill-current text-pop-blue" d="M13.0607 0.625645C12.4749 0.0398579 11.5251 0.0398579 10.9393 0.625645L1.3934 10.1716C0.807611 10.7574 0.807611 11.7071 1.3934 12.2929C1.97919 12.8787 2.92893 12.8787 3.51472 12.2929L12 3.80762L20.4853 12.2929C21.0711 12.8787 22.0208 12.8787 22.6066 12.2929C23.1924 11.7071 23.1924 10.7574 22.6066 10.1716L13.0607 0.625645ZM13.5 24.3137V1.6863H10.5V24.3137H13.5Z" fill="#3A3EAB"/>
        </svg>
      </div>
    </div>
  </div>

  {% endblock %}
</header>
